---
title: Design Circular Deque(원형 데크 구현)
date: 2021-07-26
slug: /blog/leetcode/641
categories: ['all', 'leetcode']
tags: ['Python', 'Queue', 'Linked-List']
---

다음 연산을 제공하는 원형 데크를 구현하세요.

- MyCircularDeque(int k) Initializes the deque with a maximum size of k.

- boolean insertFront() Adds an item at the front of Deque. Returns true if the operation is successful, or false otherwise.

- boolean insertLast() Adds an item at the rear of Deque. Returns true if the operation is successful, or false otherwise.

- boolean deleteFront() Deletes an item from the front of Deque. Returns true if the operation is successful, or false otherwise.

- boolean deleteLast() Deletes an item from the rear of Deque. Returns true if the operation is successful, or false otherwise.

- int getFront() Returns the front item from the Deque. Returns -1 if the deque is empty.

- int getRear() Returns the last item from Deque. Returns -1 if the deque is empty.

- boolean isEmpty() Returns true if the deque is empty, or false otherwise.

- boolean isFull() Returns true if the deque is full, or false otherwise.

`Example 1:`
```
Input
["MyCircularDeque", "insertLast", "insertLast", "insertFront", "insertFront", "getRear", "isFull", "deleteLast", "insertFront", "getFront"]
[[3], [1], [2], [3], [4], [], [], [], [4], []]
Output
[null, true, true, true, false, 2, true, true, true, 4]

Explanation
MyCircularDeque myCircularDeque = new MyCircularDeque(3);
myCircularDeque.insertLast(1);  // return True
myCircularDeque.insertLast(2);  // return True
myCircularDeque.insertFront(3); // return True
myCircularDeque.insertFront(4); // return False, the queue is full.
myCircularDeque.getRear();      // return 2
myCircularDeque.isFull();       // return True
myCircularDeque.deleteLast();   // return True
myCircularDeque.insertFront(4); // return True
myCircularDeque.getFront();     // return 4
```

`Constraints:`
```
1 <= k <= 1000
0 <= value <= 1000
At most 2000 calls will be made to insertFront, insertLast, deleteFront, deleteLast, getFront, getRear, isEmpty, isFull.
```

## 알고리즘 설계

1. 이중 연결 리스트를 이용하여 데크를 구현합니다.

2. 삽입할 때는 삽입할 노드의 위치를 고려해 왼, 오른쪽을 이용하며 제거할 때는 제거할 노드의 오른의 오른쪽을 기억하여 노드의 오른쪽을 
  삭제한다.

3. Front와 Rear의 값을 가져올 때는 값이 존재하는지 확인 후 가져온다.

4. isFull과 isEmpty는 각각 k와 노드의 길이를 비교, 그리고 노드의 길이가 0인지 확인하도록 합니다.

## 작성한 코드

```python{numberLines: true}
class MyCircularDeque:

    def __init__(self, k: int):
        """
        Initialize your data structure here. Set the size of the deque to be k.
        """
        self.head, self.tail = ListNode(None), ListNode(None)
        self.k, self.len = k, 0
        self.head.right, self.tail.left = self.tail, self.head
        
    def _add(self, node: ListNode, new: ListNode):
        n = node.right
        node.right = new
        new.left, new.right = node, n
        n.left = new
        
    def _del(self, node: ListNode):
        n = node.right.right
        node.right = n
        n.left = node

    def insertFront(self, value: int) -> bool:
        """
        Adds an item at the front of Deque. Return true if the operation is successful.
        """
        if self.len == self.k:
            return False
        self.len += 1
        self._add(self.head, ListNode(value))
        return True
        

    def insertLast(self, value: int) -> bool:
        """
        Adds an item at the rear of Deque. Return true if the operation is successful.
        """
        if self.len == self.k:
            return False
        self.len += 1
        self._add(self.tail.left, ListNode(value))
        return True
        

    def deleteFront(self) -> bool:
        """
        Deletes an item from the front of Deque. Return true if the operation is successful.
        """
        if self.len == 0:
            return False
        self.len -= 1
        self._del(self.head)
        return True
        

    def deleteLast(self) -> bool:
        """
        Deletes an item from the rear of Deque. Return true if the operation is successful.
        """
        if self.len == 0:
            return False
        self.len -= 1
        self._del(self.tail.left.left)
        return True
        

    def getFront(self) -> int:
        """
        Get the front item from the deque.
        """
        return self.head.right.val if self.len else -1
        

    def getRear(self) -> int:
        """
        Get the last item from the deque.
        """
        return self.tail.left.val if self.len else -1

    def isEmpty(self) -> bool:
        """
        Checks whether the circular deque is empty or not.
        """
        return self.len == 0
        

    def isFull(self) -> bool:
        """
        Checks whether the circular deque is full or not.
        """
        return self.len == self.k
```